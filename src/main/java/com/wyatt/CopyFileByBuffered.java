package com.wyatt;

import java.io.*;

/**使用缓冲流拷贝文件
 * Created by ASUS on 2018/10/18.
 */
public class CopyFileByBuffered {
    public static void main(String[] args) {
        copyFileByBufIS("1.txt","1-bufis-copy.txt");
        copyFileByBufReader("1.txt","1-bufreader-copy.txt");
    }

    //字节拷贝
    public static void copyFileByBufIS(String srcPath,String dstPath){
        File src=new File(srcPath);
        File dst=new File(dstPath);
        try(InputStream is=new BufferedInputStream(new FileInputStream(src));OutputStream os=new BufferedOutputStream(new FileOutputStream(dst))) {
            byte[] flush=new byte[1024];
            int len=-1;
            while ((len=is.read(flush))!=-1){
                os.write(flush,0,len);
            }
            os.flush();
        }catch (FileNotFoundException e){
            e.printStackTrace();
        }catch (IOException e){
            e.printStackTrace();
        }
    }
        //仅限于纯文本
    public static void copyFileByBufReader(String srcPath,String dstPath){
        File src=new File(srcPath);
        File dst=new File(dstPath);
        //因为BufferedReader类有新增方法，因此不能用父类Reader定义引用，BufferedWriter同理
        try(BufferedReader reader=new BufferedReader(new FileReader(src));BufferedWriter writer=new BufferedWriter(new FileWriter(dst))) {
            //逐行读取
            String line=null;
            while ((line=reader.readLine())!=null){
                writer.write(line);
                writer.newLine();
            }
            writer.flush();


        }catch (FileNotFoundException e){
            e.printStackTrace();
        }catch (IOException e){
            e.printStackTrace();
        }
    }
}
