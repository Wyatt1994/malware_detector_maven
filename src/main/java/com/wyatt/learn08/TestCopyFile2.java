package com.wyatt.learn08;

import java.io.*;

/**
 * 使用字符流reader writer拷贝
 * Created by wyatt on 2018/10/18.
 */
public class TestCopyFile2 {
    public static void main(String[] args) {
        copyFile("3.txt","src/com/wyatt/learn08/4.txt");
    }

    //目标文件会自动创建
    public static void copyFile(String srcPath,String dstPath){
        File src=new File(srcPath);
        File dst=new File(dstPath);
        if (src.isFile()){
            Reader reader=null;
            Writer writer=null;
            try {
                reader=new FileReader(src);
                writer=new FileWriter(dst,false);
                char[] flush=new char[1024];
                int len=-1;
                while ((len=reader.read(flush))!=-1){
                    writer.write(flush);
                }
                writer.flush();
            }catch (FileNotFoundException e){
                e.printStackTrace();
            }catch (IOException e){
                e.printStackTrace();
            }finally {
                if (writer!=null){
                    try {
                        writer.close();
                    }catch (IOException e){
                        e.printStackTrace();
                    }
                }
                if (reader!=null){
                    try {
                        reader.close();
                    }catch (IOException e){
                        e.printStackTrace();
                    }
                }
            }
        }else {
            System.out.println("不是文件");
        }
    }
}
